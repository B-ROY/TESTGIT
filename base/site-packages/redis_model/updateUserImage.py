#encoding=utf-8

import os
import MySQLdb
import random
config = {
  'user': 'root',
  'password': '123456',
  'host': '127.0.0.1',
  'database': 'livevideo_platform',
  'raise_on_warnings': True,
}

"""
这个将图片自动更新到用户的image中，主要是为了机器人使用
"""

cnx = MySQLdb.connect("10.66.109.98","root","2RKE#zyeq1","livevideo_platform" )

class ReadFile:
    def readLines(self):
        f = open("./urls.txt", "r")
        list=[]
        i = 1812
        for line in f:
            strs = line.replace("\n","")
            data = (strs,i)
            list.append(data)
            i++

        cursor=cnx.cursor()
        sql = "update  `customer_user` set `image`=%s where id =%s"
        cursor.executemany(sql,list)
        cnx.commit()
        print("插入")

        #list.clear()        
        f.close()
        print("ok")

    def listFiles(self):
        d = os.listdir("./")
        return d

            
if __name__ == "__main__":
    readFile = ReadFile()
    readFile.readLines()